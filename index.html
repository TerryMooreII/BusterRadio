<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>BusterRad.io</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">

        <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="css/smoothness/jquery-ui-1.10.0.custom.min.css">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/font-awesome.min.css">
        <link rel="stylesheet" href="css/main.css">

        <script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
        <script data-main="js/main.js" src="js/vendor/require.js" ></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->
    <div id="wrapper">
        <div class="header-container">
            <header class="wrapper clearfix">
                <h1 class="title"><a href="#">buster rad.io</a></h1>
                
                <canvas id="fft"> </canvas>
                
                <nav>
                    <ul>
                        <!-- <li><a href="#">nav ul li a</a></li> -->
                        <li><a href="http://archive.org/details/etree" target"_blank">Archive.org</a></li>
                        <li><a href="https://twitter.com/terrymooreii" target"_blank"><i class="icon-twitter icon"></i></a></li>
                    </ul>
                </nav>
            </header>
        </div>
        

        <div id="content" style="width:100%">
           <div id="left" style="height:100%;overflow:hidden;"> 
                
                <ul class="nav nav-tabs" id="myTab">
                    <li class="active"> <a href="#artistList">Artists</a></li>
                    <li ><a href="#search">Shows</a></li>
                    <li><a href="#playlists">Playlists</a></li>
                    <li><a href="#favorites">Favorites</a></li>
                    <li><a href="#settings"><i class="icon-cog"></i></a></li>
                </ul>
                 
                <div class="tab-content " style="overflow:hidden;">
                    <div class="tab-pane active" id="artistList">

                        <div class="form-inline" style="margin:0">
                            <input style="width:260px;" id="searchArtists" type="text" class="input" placeholder="Artist Name" data-bind="value:searchValue">
                            <button type="submit" class="btn" data-bind="click:setSearchHash">Search</button>
                        </div>

                        <div class="form-inline" style="margin:10px 0">
                            <select style="width=150px" data-bind="options: alphabet,optionsCaption:'Artist List...', value:artistsStartingWith, event:{change:getArtistStartingWith}"></select>
                            <a href="#" class="randomArtist" title="Random Artist"><i class="icon-random icon-2x pull-right" data-bind="click:getRandomArtist"></i></a>
                        </div>


                        <div class="sideBarListArtists scrollList">
                            <ul style="margin:0px" class="listDisplay" data-bind="foreach:allArtistStartingWith">
                                <li><a data-bind="click:$root.setArtistHash.bind($data)"> <span data-bind="text:$data.title"></span></a></li>
                            </ul>
                        </div>
                    </div>
 
                    <div class="tab-pane" id="search">
                        <span class="artist" style="line-height:normal" data-bind="text:artistName"></span>
                        <div class="well well-transparent loading" style="display:none">
                                <div style="margin-left;">
                                <i class="icon-spinner icon-4x icon-spin"></i>
                                <span style="margin-left:5px; font-size:1.5em">Loading...</span>
                            </div>
                        </div>
                        <div style="" class="sideBarList scrollList">
                            <!-- ko if: searchResultsByYear().length > 0 -->
                            <div class="listDisplay" id="accordion" data-bind="foreach:{data:searchResultsByYear, as: 'list'}"  >
                                <h3 data-bind="text:list.year"></h3>
                                    <div> 
                                        <ul data-bind="foreach:{data:shows, as: 'show'}">
                                            <li>
                                                <a data-bind="attr:{href:show.identifier, title: show.title}, click:$root.setShowDetailsHash.bind($data)">
                                                  <span data-bind="text:show.date"></span> - <span data-bind="text:show.venue"></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                             </div>
                            <!-- /ko -->
                          
                        </div>
                    </div>
                    <div class="tab-pane" id="playlists"> 
                        <form class="form-inline" style="margin:0">
                            <span class="pull-right mute" data-bind="click:removeAllFromPlaylist"><i class="icon-trash icon-2x"></i></span>
                            <!--<input style="width:300px;" type="text" class="input" placeholder="Playlist title">
                             <button class="btn">Save</button> -->
                        </form>
                        <div class="sideBarList scrollList playlist">
                            <ul data-bind="foreach:playlist">
                                <li data-bind="css:{ 'playlist-song-playing': isPlaying } ">
                                    
                                    <span class="playlist-song" >
                                        <a data-bind="attr:{href:song.title, title:song.title + ' by ' + song.creator}, click:$parent.playSongFromPlaylist">
                                            <span data-bind="text:song.title"></span>
                                            <span data-bind="visible:song.creator">(<span data-bind="text:song.creator"></span>)</span>
                                        </a>
                                    </span>

                                    <span style="margin-left:5px" class="pull-right" data-bind="visible:isPlaying">
                                        <i class="icon-volume-up"></i>
                                    </span>
                                    <span style="margin-left:5px" class="pull-right mute" data-bind="click:$parent.removeFromPlaylist, visible:isPlaying() == false">
                                        <i class="icon-trash"></i>
                                    </span>
                                    <span class="pull-right mute" data-bind="text:song.length"></span>
                                    
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="tab-pane" id="settings">
                        <div class="sideBarList scrollList playlist">
                            <ul>
                                <li>
                                    <div  class="form-inline" data-bind="visible:checkForDesktopNotifications">
                                        <span>Show dancing lines</span>
                                        <span class="pull-right">
                                            <label class="inline radio">
                                                    <input type="radio" name="dancingBars" value="Yes" data-bind="checked:enableDancingBars, click:enableDancingBarsAction" /> Yes
                                                </label>
                                                <label class="inline radio">
                                                    <input type="radio" name="dancingBars" value="No" data-bind="checked:enableDancingBars, click:enableDancingBarsAction"/> No
                                                </label>
                                        </span>

                                    </div>
                                </li>
                                <div class="clearfix"></div>
                                <li>
                                    <div class="form-inline" data-bind="visible:checkForWebkitAudio">
                                        <span>Show desktop notifications</span>
                                        <span class="pull-right ">
                                            <label class="inline radio">
                                                <input type="radio" name="notification" value="Yes" data-bind="checked:enableNotifications, click:enableNotificationsAction"  /> Yes
                                            </label>
                                            <label class="inline radio">
                                                <input type="radio" name="notification" value="No" data-bind="checked:enableNotifications, click:enableNotificationsAction"/> No
                                            </label>
                                        </span>
                                    </div>
                                </li>   
                            </ul>
                        </div>
                    </div>

                    <div class="tab-pane" id="favorites">
                        <div class="sideBarList scrollList playlist">
                            <ul data-bind="foreach:favoriteShows">
                                <li>
                                    <span class="pull-right mute" data-bind="click:$parent.removeShowFromFavorites"><i class="icon-trash"></i></span>
                                    <a data-bind="click:$parent.viewFavoriteShow"><span data-bind="text:artist + ' on ' + date + ' at ' + venue"></span></a> 
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        
            <div id="right">
                <div id="latest-shows" data-bind="visible:!showDetails().artist && artistBio() == ''">
                    
                    <h1>Buster Radio<h1>

                    <h2>Check out the latest shows!!<h2>

                    <ul data-bind="foreach:latestShows" class="unstyled">
                        <li>
                            <p>
                                <div class="pull-left">
                                    <a class="latest-show-artist" data-bind="text:$data.artist, attr:{href: '#' + $parent.getArtistIdentifierFromTitle($data.artist)}">
                                    </a>    
                                </div>
                                <div class="pull-right">
                                    Live at 
                                    <a data-bind="attr:{href: '#' + $parent.getArtistIdentifierFromTitle($data.artist) + '/' + $data.identifier}">
                                        <span data-bind="text:$data.venue"></span>
                                        on <span data-bind="text:$data.date"></span>
                                    </a>
                                </div>
                            </p>
                            <div class="clearfix"></div>
                        </li>
                    </ul>

                </div>

                <div id="bio" data-bind="visible:artistBio">

                    <p data-bind="visible:artistBio().error">
                        Sorry, we are unable to find artist's bio. <!-- <br /> Reason: 
                        <span class="bio-error" data-bind="html:artistBio().error"></span> -->
                    </p>
                    
                    <div class="pull-left">    
                        <img data-bind="attr:{ src: artistBio().image }">
                    </div>
                    <div>
                    <div><h1 data-bind="text:artistBio().name"></h1></div>
                    
                    <div data-bind="foreach: artistBio().tags">
                        <span class="tags" data-bind="text:$data"></span>
                    </div>
                    <p data-bind="html:artistBio().summary"></p>
                    </div>
                </div>
                <div data-bind="visible:showDetails().artist && artistBio() == ''">
                    <div id="showDetails" style="height:45px;">
                        <div>
                            <img class="pull-right" data-bind="attr:{src:showDetails().headerImage}, visible:showDetails().headerImage" />
                            <div class="pull-left">
                                <p>
                                    <a class="artist" data-bind="text:showDetails().artist, attr:{ href: '#' + $root.getArtistIdentifierFromTitle(showDetails().artist) }"></a>
                                </p>
                                <p>
                                    <span class="showDate" data-bind="text:showDetails().date"></span>
                                </p>  
                                <p>  
                                    <span class="venue" data-bind="text:showDetails().venue"></span>,  
                                    <span class="venue" data-bind="text:showDetails().location"></span>
                                    <span class="venue showStars" data-bind="html:showDetails().starsHtml"></span>
                                    <a class="favorite" href="#" title="Add to Favorites"><i class="icon-heart" data-toggle="tooltip" data-original-title="Default tooltip" data-bind="click: addShowToFavorites, tooltips:{title:'Add to Favorites'}"></i></a>
                                </p>  
                            </div>
                            
                        </div>

                    </div>

                    <ul class="nav nav-tabs" id="tabsInfo" style="margin-top:15px">
                        <li class="active"><a href="#tracks">Tracks</a></li>
                        <li><a href="#reviews">Reviews</a></li>
                        <li><a href="#information">Information</a></li>
                        
                    </ul>
                
                    <div class="tab-content" style="overflow:hidden;">
                        <div class="tab-pane" id="information">
                            
                            <p class="showDescription">
                                <p>
                                    Downloads: <span data-bind="text:showDetails().downloads"></span>
                                </p>
                                <p>
                                    Source:<br />
                                    <span data-bind="text:showDetails().lineage"></span>
                                    <br />
                                    <span data-bind="text:showDetails().source"></span>
                                </p>
                                <span data-bind="text:showDetails().description"></span>
                                
                            </p>
                        </div>
                        
                        <div class="tab-pane mainList scrollList" id="reviews">
                            <div data-bind="foreach:showDetails().reviews">
                                <div class="well">
                                    <div class="reivewTitle" style="margin-bottom:5px;width:100%; padding:5px 0px 5px 0px; border-bottom:1px solid #ccc; display:inline-block">
                                        <div class="pull-left">
                                            <span style="font-weight:bold" data-bind="text:reviewTitle"></span>
                                            <span style="margin-left:5px;" data-bind="html:starsHtml"></span>
                                        </div>
                                        <div class="pull-right">
                                            <span style="font-style:italic" data-bind="text:reviewDate"></span>
                                        </div>
                                    </div>
                                    <p>
                                        <span data-bind="text:reviewBody"></span>
                                    </p>
                                </div>
                            </div>
                              <div style="margin-bottom:20px">
                                <a target="_blank" class="btn btn-info" data-bind="attr:{ href: 'https://archive.org/write-review.php?identifier=' + showDetails().identifier}" >Add Review</a>
                            </div>

                        </div>
                        
                        <div class="tab-pane mainList scrollList active" id="tracks">
                            <h4 data-bind="visible:showDetails().songs.length == 0">No MP3s for this show.  </h4>                        
                            <div id="showSongList">
                                <table class="table table-striped table-hover table-condensed" data-bind="visible:showDetails().songs.length !=0" >
                                    <thead>
                                        <tr>
                                            <th style="width:25px; text-align:center">
                                                <a href="#" class="addTrack" title="Add all songs to playlist">
                                                    <i class="icon-plus mute" data-bind="click:addAll"></i>
                                                </a>
                                            </th>
                                            <th style="width:50px; text-align:center">Track</th>
                                            <th style="width:350px">Title</th>
                                            <th style="width:100px; text-align:center">Length</th>
                                           <!--  <th></th> -->
                                        </tr>
                                    </thead>
                                    <tfoot>
                                        <tr>
                                            <th colspan="3" class=""></th>
                                            <th style="text-align:center" class="textCenter"><span data-bind="text:showDetails().totalLength"></span></th>
                                        </tr>
                                    </tfoot>
                                    <tbody data-bind="foreach:showDetails().songs">
                                        <tr>
                                            <td  style="text-align:center">
                                                <a href="#" class="addTrack" title="Add songs to playlist">
                                                    <i class="icon-plus addSongIcon mute"  data-bind="click:$parent.addToPlaylist.bind($data)" ></i>
                                                </a>
                                            </td>
                                            <td style="text-align:center" class="textCenter"><span data-bind="text:track"></span></td>
                                            <td><span data-bind="text:title"></span></td>
                                            <td style="text-align:center" class="textCenter"><span data-bind="text:length"></span></td>
                                            <!-- <td><i class="icon-play" data-bind="click:$parent.playSong.bind($data)"></i></td> -->
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-container">
            <footer class="footer-wrapper">
                
                <div id="audio" style="margin:0 auto;width:700px;margin-top:5px; line-height:28px">
                    <div id="currentSong" style="height:15px; width:700px;text-align:center;">
                        
                        <span data-bind="text:currentSong().title"></span>
                        <span data-bind="visible:currentSong().title"> by </span>
                        <span class="show-as-link" data-bind="click:goToArtist, text:currentSong().creator"></span>
                        <br/>
                        <span class="show-as-link" data-bind="click:goToShow, text:currentSong().album"></span>
                    </div>
                    <div id="controls">
                        <i class=" pull-left icon-step-backward icon-2x" style="margin: 2px 15px 0 0" id="previous" data-bind="click:previous"></i>
                        <i class="pull-left icon-play icon-3x" style="margin:-3px 12px 0px 2px" id="play" data-bind="click:play, visible:showPause() == false"></i>
                        <i class="pull-left icon-pause icon-3x" style="margin-top:-3px" id="pause" data-bind="click:pause, visible:showPause"></i>
                        <i class="pull-left icon-step-forward icon-2x" style="margin: 2px 15px 0 0" id="next" data-bind="click:next"></i>
                    </div>
                    <div id="time">
                        <div class="pull-left" style="width:455px; margin:12px 8px 0px 6px; font-size:0px !important" id="slider"></div>
                        <div class="pull-left" data-bind="text:duration" style="margin:0px 8px 0 0  "></div>
                        <span class="pull-left" style="margin:0px 8px 0 0">/ </span>
                        <div class="pull-left" data-bind="text:songLength" style="margin:0px 8px 0 0 "></div>
                    </div>
                    <div id="other">
                        <i class="pull-left icon-volume-up icon-2x" style="margin: 1px 15px 0 0" data-bind="click:volumeControl, visible:showMute() == false"></i>
                        <i class="pull-left icon-volume-off icon-2x" style="margin: 1px 15px 0 0" data-bind="click:volumeControl, visible:showMute"></i>
                    </div>
                </div>                
            </footer>
        </div>
    </div>
    <div id="loading">
        <p>Loading ...</p>
    </div>
        <script>
            var _gaq=[['_setAccount','UA-38185444-1'],['_trackPageview']];
            (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
            g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
            s.parentNode.insertBefore(g,s)}(document,'script'));
        </script>
    </body>
</html>
